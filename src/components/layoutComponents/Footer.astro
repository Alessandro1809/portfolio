---
import Button from "@/components/ui/buttons/Button.astro";
import Flag from "@/components/ui/icons/Flag.astro";
import SocialApps from "@/components/ui/SocialApps.astro";
import footerImage from "@/assets/FooterAvatar.png";
import { defaultLang, translations, type Language } from "@/lib/i18n";

const lang = (Astro.locals.lang as Language | undefined) ?? defaultLang;
const t = translations[lang];
const year = new Date().getFullYear();
---

<footer
    class="container mx-auto max-w-12xl relative z-10 pt-20 sm:pt-32 md:pt-44 px-4 sm:px-6 md:px-8 overflow-hidden"
>
    <div
        class="h-px bg-linear-to-r from-primary-green via-white to-primary-green mt-1"
    >
    </div>
    <article
        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 md:gap-6 pb-6 sm:pb-8 md:pb-10"
    >
        <div
            class="flex flex-col sm:flex-row gap-6 sm:gap-8 md:col-span-2 lg:col-span-2 mt-6 sm:mt-8 md:mt-10"
        >
            <div class="flex flex-col gap-4 sm:gap-6 md:gap-8">
                <h3
                    class="text-2xl sm:text-3xl md:text-2xl lg:text-3xl font-bold text-nowrap"
                >
                    {t.footer.getInTouch}
                </h3>
                <Button
                    text={t.socialLinks.scheduleMeeting}
                    variant="tertiary"
                    ariaLabel={t.socialLinks.scheduleMeetingAria}
                />

                <SocialApps />
            </div>
            <div class="flex flex-col gap-4 sm:gap-6 md:gap-8">
                <h3
                    class="text-2xl sm:text-3xl md:text-2xl lg:text-3xl text-nowrap font-bold"
                >
                    {t.footer.interestLinks}
                </h3>
                <ul class="flex flex-col gap-3 sm:gap-4">
                    <li>
                        <a
                            class="text-neutral-400 hover:text-primary-green transition-colors"
                            href="/my-projects">{t.footer.projects}</a
                        >
                    </li>
                    <li>
                        <a
                            class="text-neutral-400 hover:text-primary-green transition-colors"
                            href="/blog">{t.footer.blog}</a
                        >
                    </li>
                    <li>
                        <a
                            class="text-neutral-400 hover:text-primary-green transition-colors"
                            href="https://nous.cr"
                            target="_blank"
                            rel="noopener noreferrer"
                            aria-label={t.footer.visitNousAria}
                        >
                            {t.footer.knowInitiative}
                        </a>
                    </li>
                    <li>
                        <a
                            class="text-neutral-400 hover:text-primary-green transition-colors"
                            href="/hire-me"
                            aria-label={t.footer.contactAria}
                            >{t.footer.contactMe}</a
                        >
                    </li>
                </ul>
            </div>
        </div>
        <div class="hidden lg:block lg:col-span-1">
            <img
                class="max-h-48 lg:max-h-64 translate-y-8 lg:translate-y-12"
                src={footerImage.src}
                alt=""
                loading="lazy"
                decoding="async"
                style={{
                    WebkitMaskImage:
                        "linear-gradient(to top, transparent 0%, #000 35%, #000 100%)",
                    maskImage:
                        "linear-gradient(to top, transparent 0%, #000 35%, #000 100%)",
                    WebkitMaskRepeat: "no-repeat",
                    maskRepeat: "no-repeat",
                    WebkitMaskSize: "100% 100%",
                    maskSize: "100% 100%",
                }}
            />
        </div>

        <div class="md:col-span-2 lg:col-span-1 mt-6 sm:mt-8 md:mt-10">
            <div class="flex flex-col place-items-start lg:place-items-end">
                <h3
                    class="text-2xl sm:text-3xl md:text-2xl lg:text-3xl font-bold text-nowrap"
                >
                    Alessandro Diaz
                </h3>
                <p
                    class="text-neutral-400 mt-3 sm:mt-4 text-base sm:text-lg max-w-4xl flex gap-2"
                >
                    {t.footer.madeIn}
                    <Flag />
                </p>
                <p class="text-neutral-400 mt-3 sm:mt-4 text-sm max-w-4xl">
                    {t.footer.tagline}
                </p>
                <p class="text-neutral-400 mt-3 sm:mt-4 text-xs max-w-4xl">
                    {t.footer.copyright.replace("{year}", String(year))}
                </p>
                <p class="text-neutral-400 mt-3 sm:mt-4 text-xs max-w-4xl">
                    {t.footer.builtWith}
                </p>
            </div>
        </div>
    </article>
</footer>
